<!doctype html>
<html lang=en>
<head>
	<meta charset=utf-8>
	<title>{{.User | html}}/{{.Repo | html}} · jekyll-history-service</title>
	<link rel=stylesheet href="{{"style.css" | asset_path}}">
</head>
<body>
	<h1>jekyll-history-service</h1>
	<h2>{{.User | html}}/{{.Repo | html}}</h2>

	<ul>
	{{- with $base := .}}
	{{- range .Commits}}
		<li><a href="/u/{{$base.User | urlquery}}/r/{{$base.Repo | urlquery}}/c/{{.SHA | urlquery}}/">{{$base.User | html}}/{{$base.Repo | html}}@<code>{{.SHA | html}}</code></a>:
			{{- if .Commit}} {{.Commit.Message | html}}{{end -}}
		</li>
	{{- end}}
	{{- end}}
	</ul>

	{{- if (or (ne .Resp.PrevPage 0) (ne .Resp.NextPage 0))}}

	<p>
		{{- if (eq .Resp.PrevPage 1) -}}
			<a href="/u/{{.User | urlquery}}/r/{{.Repo | urlquery}}/">← Prev page</a>
		{{- else if (ne .Resp.PrevPage 0) -}}
			<a href="/u/{{.User | urlquery}}/r/{{.Repo | urlquery}}/p/{{.Resp.PrevPage}}/">← Prev page</a>
		{{- end -}}
		{{- if (and (ne .Resp.PrevPage 0) (ne .Resp.NextPage 0))}} · {{end -}}
		{{- if (ne .Resp.NextPage 0) -}}
			<a href="/u/{{.User | urlquery}}/r/{{.Repo | urlquery}}/p/{{.Resp.NextPage}}/">Next page →</a>
		{{- end -}}
	</p>
	{{- end}}
</body>
